(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{8981:function(e,t,n){"use strict";n.d(t,{Ol:function(){return u},Zb:function(){return d},eW:function(){return c},iR:function(){return h}});var a=n(7294),r=n(5818),o=n(4520),i=(...e)=>e.filter(Boolean).join(" "),[l,s]=(0,r.eC)("Card"),d=(0,r.Gp)(function(e,t){let{className:n,children:s,direction:d="column",justify:c,align:h,...u}=(0,o.Lr)(e),p=(0,r.jC)("Card",e);return a.createElement(r.m$.div,{ref:t,className:i("chakra-card",n),__css:{display:"flex",flexDirection:d,justifyContent:c,alignItems:h,position:"relative",minWidth:0,wordWrap:"break-word",...p.container},...u},a.createElement(l,{value:p},s))}),c=(0,r.Gp)(function(e,t){let{className:n,...o}=e,l=s();return a.createElement(r.m$.div,{ref:t,className:i("chakra-card__body",n),__css:l.body,...o})}),h=(0,r.Gp)(function(e,t){let{className:n,justify:o,...l}=e,d=s();return a.createElement(r.m$.div,{ref:t,className:i("chakra-card__footer",n),__css:{...d.footer,display:"flex",justifyContent:o},...l})}),u=(0,r.Gp)(function(e,t){let{className:n,...o}=e,l=s();return a.createElement(r.m$.div,{ref:t,className:i("chakra-card__header",n),__css:l.header,...o})})},6896:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(5164)}])},7577:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var a=n(5893),r=n(7741);function o(e){let{children:t,label:n,color:o,...i}=e;return(0,a.jsx)(r.zx,{"aria-label":n,sx:{cursor:"pointer",userSelect:"none",fontWeight:"medium",fontSize:"xs",bg:o||"yellow",color:o||"black",hover:"none",minWidth:"135px",height:"45px"},...i,children:t})}},4368:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var a=n(5893),r=n(979);function o(e){let{placeholder:t,label:n,id:o,...i}=e;return(0,a.jsx)(r.II,{bg:"EduWhite","aria-label":n,id:o,...i,fontSize:"xs",maxW:"265px",placeholder:t})}},8020:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(5893),r=n(639),o=n(1163),i=n(1664),l=n.n(i);let s=e=>{let{path:t}=e,{asPath:n}=(0,o.useRouter)(),i=n.split("/")[1];return(0,a.jsx)(r.xu,{color:t===i?"white":"black",bg:t===i?"#107385":"F5F5F5",border:"1px solid #107385",borderRadius:"20px",width:"100px",textAlign:"center",children:(0,a.jsxs)(l(),{href:t,children:[" ",((null==t?void 0:t.charAt(0).toUpperCase())+(null==t?void 0:t.slice(1))).toString()]})})},d=()=>(0,a.jsx)(r.xu,{bg:"white",w:"100%",p:4,color:"black",children:(0,a.jsxs)(r.Ug,{justifyContent:"center",children:[(0,a.jsx)(s,{path:"dashboard"}),(0,a.jsx)(s,{path:"profile"}),(0,a.jsx)(s,{path:"messages"}),(0,a.jsx)(s,{path:"invoices"})]})});var c=d},5164:function(e,t,n){"use strict";n.r(t),n.d(t,{Profile:function(){return g},default:function(){return m}});var a=n(5893),r=n(7294),o=n(8020),i=n(639),l=n(8981),s=n(3887),d=n(3234),c=n(979),h=n(7577);function u(e){let{headerName:t,height:n,cardWidth:r,buttonWidth:o,buttonText:s,label:d,optionalBodyOne:c,optionalBodyTwo:u,onClick:p}=e;return(0,a.jsxs)(l.Zb,{height:n,width:r,borderRadius:20,boxShadow:"2xl",variant:"elevated",children:[(0,a.jsx)(l.Ol,{bg:"#4EA4B1",minW:"70%",padding:"10px",alignSelf:"center",borderBottomLeftRadius:20,borderBottomRightRadius:20,textAlign:"center",children:(0,a.jsx)(i.X6,{textAlign:"center",fontSize:"20px",color:"white",noOfLines:1,children:t})}),(0,a.jsxs)(l.eW,{alignSelf:"center",paddingBottom:"0px",children:[c,u]}),(0,a.jsx)(l.iR,{alignSelf:"center",paddingBottom:"15px",children:(0,a.jsx)(h.M,{width:o,onClick:p,label:d,children:s})})]})}var p=n(4368),x=n(9720),f=n(1163);let g=()=>{let[e,t]=(0,r.useState)(""),[n,g]=(0,r.useState)(""),[m,b]=(0,r.useState)(""),[j,v]=(0,r.useState)(""),[S,w]=(0,r.useState)(""),[y,C]=(0,r.useState)(""),[k,_]=(0,r.useState)(""),[z,N]=(0,r.useState)({}),O=(0,f.useRouter)();(0,r.useEffect)(()=>{(0,x.$8)()&&(0,x.vS)()?B((0,x.xp)().id):O.push("/")},[]);let B=e=>{fetch("http://localhost:8000/tutor/"+e,{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:8000",Authorization:"Bearer "+(0,x.LP)()},redirect:"follow"}).then(e=>e.json()).then(e=>N(e))},E=()=>{let t=new Date(S).toLocaleDateString("german",{year:"numeric",month:"numeric",day:"numeric"});console.log(t);let a={firstName:e,lastName:n,formattedBirthDate:t,gender:j,phoneNumber:m};fetch("http://localhost:8000/tutor/"+z._id,{method:"PUT",body:JSON.stringify({profile:a}),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:8000",Authorization:"Bearer "+(0,x.LP)()}}).then(e=>e.json()).then(e=>console.log(e)),alert(JSON.stringify(a))},I=()=>{let e={streetName:k,postalCode:y};fetch("http://localhost:8000/tutor/"+z._id,{method:"PUT",body:JSON.stringify({livingPlace:e}),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:8000",Authorization:"Bearer "+(0,x.LP)()}}).then(e=>e.json()).then(e=>console.log(e)),alert(JSON.stringify(e))},P=()=>{let e=confirm("Are you really really really sure about this? \n This action cannot be undone");e?fetch("http://localhost:8000/tutor/"+z._id,{method:"DELETE",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:8000",Authorization:"Bearer "+(0,x.LP)()}}).then(e=>e.json()).then(()=>alert("Thanks for using Edugram!")).then(()=>O.push("/register")).catch(e=>{console.log(e)}):alert("One user was saved today!")};return(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(o.Z,{}),(0,a.jsxs)(i.MI,{padding:"20px",columns:{sm:2,md:3},h:"200px",templateRows:"repeat(1, 1fr)",templateColumns:"repeat(4, 1fr)",gap:10,children:[(0,a.jsx)(i.P4,{rowSpan:2,colSpan:1,children:(0,a.jsxs)(l.Zb,{boxShadow:"xl",borderRadius:20,bg:"white",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(s.Ee,{margin:"auto",src:"images/placeholderImage.png",alt:"Placeholder for image of Identity"})}),(0,a.jsx)(l.eW,{children:(0,a.jsxs)(d.NI,{children:[(0,a.jsx)(d.lX,{fontSize:"xs",children:"Firstname"}),(0,a.jsx)(c.II,{mb:2,variant:"filled",fontSize:"sm",placeholder:z.firstName?z.firstName:"First name unknown",value:e,onChange:e=>{t(e.target.value)}}),(0,a.jsx)(d.lX,{fontSize:"xs",children:"Lastname"}),(0,a.jsx)(c.II,{mb:2,variant:"filled",fontSize:"sm",placeholder:z.lastName?z.lastName:"Last name unknown",value:n,onChange:e=>{g(e.target.value)}}),(0,a.jsx)(d.lX,{fontSize:"xs",children:"Birthdate"}),(0,a.jsx)(c.II,{mb:2,variant:"filled",fontSize:"sm",type:"date",placeholder:z.dateOfBirth?z.dateOfBirth:"Birthdate unknown",value:S,onChange:e=>{w(e.target.value)}}),(0,a.jsxs)(d.Q6,{fontSize:"xs",textAlign:"center",mb:2,marginTop:"-5px",children:["Current birthdate is: ",z.dateOfBirth?z.dateOfBirth:"Unknown"]}),(0,a.jsx)(d.lX,{fontSize:"xs",children:"Gender"}),(0,a.jsx)(c.II,{mb:2,variant:"filled",fontSize:"sm",placeholder:z.gender?z.gender:"Gender unknown",value:j,onChange:e=>{v(e.target.value)}}),(0,a.jsx)(d.lX,{fontSize:"xs",children:"Email"}),(0,a.jsx)(c.II,{mb:2,variant:"filled",fontSize:"sm",isReadOnly:!0,placeholder:z.email?z.email:"Email unknown",value:z.email}),(0,a.jsx)(d.lX,{fontSize:"xs",children:"Phonenumber"}),(0,a.jsx)(c.II,{mb:2,variant:"filled",fontSize:"sm",type:"number",maxLength:10,placeholder:z.phoneNumber?z.phoneNumber.toString():"Number unknown",value:m,onChange:e=>{b(e.target.value)}})]})}),(0,a.jsx)(l.iR,{alignSelf:"center",children:(0,a.jsx)(h.M,{label:"save-profile-changes",onClick:E,children:"Save Changes"})})]})}),(0,a.jsx)(i.P4,{colSpan:1,gap:1,children:(0,a.jsx)(u,{buttonWidth:"100px",height:"280px",label:"upload-identity",buttonText:"Upload",headerName:"Identity",cardWidth:"300px",optionalBodyOne:(0,a.jsx)(i.xu,{bg:"#edf2f7",height:"120px",borderRadius:"20px",width:"200px",children:(0,a.jsx)(s.Ee,{margin:"auto",maxH:"120px",src:"images/img_identity.png",alt:"Placeholder for image of Identity"})})})}),(0,a.jsx)(i.P4,{colSpan:1,children:(0,a.jsx)(u,{buttonWidth:"150px",height:"280px",label:"upload-degree",buttonText:"Upload",headerName:"My Diploma",cardWidth:"300px",optionalBodyOne:(0,a.jsx)(s.Ee,{maxH:"120px",src:"images/img_degree.png",alt:"Placeholder for image of Degree"})})}),(0,a.jsx)(i.P4,{colSpan:1,children:(0,a.jsx)(u,{buttonWidth:"200px",height:"280px",label:"delete-account",buttonText:"Delete my account",headerName:"Delete My Account",onClick:P,cardWidth:"300px",optionalBodyOne:(0,a.jsx)(i.Ug,{bg:"#107385",maxW:"70%",textAlign:"center",marginLeft:"40px",marginTop:"20px",borderRadius:"10px",children:(0,a.jsx)(i.xv,{padding:"5px",color:"#FFFFFF",children:"Deleting cannot be undone!"})})})}),(0,a.jsx)(i.P4,{colSpan:1,children:(0,a.jsx)(u,{buttonWidth:"150px",height:"280px",paddingTop:"15px",label:"save-changes-adress",buttonText:"Save changes",headerName:"Adress + icon",cardWidth:"300px",onClick:I,optionalBodyOne:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.lX,{margin:"0px",fontSize:"xs",children:"Streetname"}),(0,a.jsx)(p.U,{placeholder:z.address?z.address.toString():"Unknown",mb:1,variant:"unstyled",border:"1px solid #e2e8f0",bg:"#e2e8f0",height:"var(--chakra-sizes-10)",color:"black",outline:"2px solid transparent",fontSize:"xs",textIndent:"20px",borderRadius:"var(--chakra-radii-md)",label:"inputfield-address",value:k,onChange:e=>{_(e.target.value)}})]}),optionalBodyTwo:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.lX,{margin:"0px",fontSize:"xs",children:"Postcal code"}),(0,a.jsx)(p.U,{placeholder:z.address?z.address.toString():"Unknown",variant:"unstyled",border:"1px solid #e2e8f0",bg:"#e2e8f0",height:"var(--chakra-sizes-10)",color:"black",outline:"2px solid transparent",fontSize:"xs",textIndent:"20px",borderRadius:"var(--chakra-radii-md)",label:"inputfield-address",value:y,onChange:e=>{C(e.target.value)}})]})})}),(0,a.jsx)(i.P4,{colSpan:1,children:(0,a.jsx)(u,{buttonWidth:"150px",height:"280px",label:"save-changes-password",buttonText:"Save changes",headerName:"Change Password",cardWidth:"300px",optionalBodyOne:(0,a.jsx)(p.U,{placeholder:"Previous password",label:"inputfield-previous-password"}),optionalBodyTwo:(0,a.jsx)(p.U,{placeholder:"New password",label:"inputfield-new-password"})})})]})]})};var m=g}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6896)}),_N_E=e.O()}]);